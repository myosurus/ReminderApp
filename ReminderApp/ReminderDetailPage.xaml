<?xml version="1.0" encoding="utf-8" ?>

<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="ReminderApp.ReminderDetailPage"
    Title="Добавить задачу"
    BackgroundColor="#F7EAFB">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <!-- Разделитель -->
            <BoxView HeightRequest="1" Color="#EEEEEE"/>

            <!-- Форма добавления задачи -->
            <VerticalStackLayout Spacing="12">

                <!-- Название задачи -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Название задачи"
                           FontSize="14"
                           FontAttributes="Bold"
                           TextColor="#333333"/>
                    <Entry Placeholder="Введите название задачи..."
                           Text="{Binding Name}"
                           BackgroundColor="White"
                           TextColor="#333333"/>
                </VerticalStackLayout>

                <!-- Описание -->
                <VerticalStackLayout Spacing="5">
                    <Label Text="Описание задачи"
                           FontSize="14"
                           TextColor="#333333"/>
                    <Editor Placeholder="Добавьте описание задачи (необязательно)..."
                           Text="{Binding Description}"
                           HeightRequest="80"
                           BackgroundColor="White"
                           TextColor="#333333"
                           AutoSize="TextChanges"/>
                </VerticalStackLayout>

                <!-- Таблица срочности и срока -->
                <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                    <VerticalStackLayout Grid.Column="0" Spacing="5">
                        <Label Text="Уровень срочности"
                               FontSize="12"
                               TextColor="#666666"/>
                        <Picker x:Name="UrgencyPicker"
                                Title="Выберите срочность"
                                ItemDisplayBinding="{Binding .}"
                                BackgroundColor="White"
                                TextColor="#333333"/>
                    </VerticalStackLayout>

                    <VerticalStackLayout Grid.Column="1" Spacing="5">
                        <Label Text="Срок выполнения"
                               FontSize="12"
                               TextColor="#666666"/>

                        <!-- Дата -->
                        <DatePicker x:Name="ReminderDatePicker"
                                    Date="{Binding ReminderDate, Mode=TwoWay}"
                                    Format="dd.MM.yyyy"
                                    BackgroundColor="White"
                                    TextColor="#333333"/>

                        <!-- Время -->
                        <TimePicker x:Name="ReminderTimePicker"
                                    Time="{Binding ReminderDate, Mode=TwoWay}"
                                    BackgroundColor="White"
                                    TextColor="#333333"/>
                    </VerticalStackLayout>
                </Grid>

                <!-- Кнопки -->
                <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,10,0,0">
                    <Button Grid.Column="0"
                            Text="Отмена"
                            BackgroundColor="#F5F5F5"
                            TextColor="#666666"
                            Clicked="OnCancelClicked"/>
                    <Button Grid.Column="1"
                            Text="Добавить задачу"
                            BackgroundColor="#007AFF"
                            TextColor="White"
                            Clicked="OnSaveClicked"/>
                    
                </Grid>

                <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,10,0,0">
                <!-- Кнопка удаления (видна только при редактировании) -->
                    <Button Grid.ColumnSpan="2"
                            Text="Удалить задачу"
                            BackgroundColor="#F44336"
                            TextColor="White"
                            CornerRadius="5"
                            HeightRequest="40"
                            WidthRequest="200"
                            Clicked="OnDeleteClicked"
                            x:Name="DeleteButton"
                            IsVisible="False"
                            HorizontalOptions="Center"
                            Margin="0,20,0,0"/>

                </Grid>

            </VerticalStackLayout>

            <!-- Разделитель -->
            <BoxView HeightRequest="1" Color="#EEEEEE" Margin="0,10,0,0"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>